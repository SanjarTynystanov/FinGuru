const translations = {
    ru: {
        'home-title': 'FinGuru â€“ Ð’Ð°Ñˆ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº',
        'nav-home': 'Ð“Ð»Ð°Ð²Ð½Ð°Ñ',
        'nav-features': 'Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸',
        'nav-currency': 'ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚ÐµÑ€',
        'feature-budget-menu': 'Ð‘ÑŽÐ´Ð¶ÐµÑ‚',
        'feature-dashboard-menu': 'ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ',
        'feature-goals-menu': 'Ð¦ÐµÐ»Ð¸',
        'feature-forecast-menu': 'ÐŸÑ€Ð¾Ð³Ð½Ð¾Ð·',
        'feature-reminders-menu': 'ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ',
        'feature-tips-menu': 'Ð¡Ð¾Ð²ÐµÑ‚Ñ‹',
        'nav-banks': 'Ð‘Ð°Ð½ÐºÐ¸',
        'banks-connected': 'ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ñ‘Ð½Ð½Ñ‹Ðµ',
        'banks-add': 'Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ',
        'banks-settings': 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸',
        'banks-faq': 'FAQ',
        'nav-analytics': 'ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°',
        'nav-faq': 'FAQ',
        'login': 'Ð’Ð¾Ð¹Ñ‚Ð¸',
        'logout': 'Ð’Ñ‹Ñ…Ð¾Ð´',
        'register': 'Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ',
        'contacts': 'ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹',
        'phone': 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½: +7 (123) 456-78-90',
        'social-telegram': 'Telegram',
        'social-vk': 'VK',
        'subscribe': 'ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ°',
        'subscribe-text': 'ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð¸ Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ',
        'email-placeholder': 'Ð’Ð°Ñˆ email',
        'subscribe-btn': 'ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ',
        'footer-privacy': 'ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸',
        'footer-terms': 'Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ',
        'footer-about-title': 'Ðž FinGuru',
        'footer-about-text': 'FinGuru - ÑÑ‚Ð¾ Ð²Ð°Ñˆ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº, Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¹, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ð²Ð°Ð¼ Ð»ÐµÐ³ÐºÐ¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð´ÐµÐ½ÑŒÐ³Ð°Ð¼Ð¸, Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ñ€Ð°ÑÑ…Ð¾Ð´Ñ‹ Ð¸ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð°Ñ‚ÑŒ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ñ… Ñ†ÐµÐ»ÐµÐ¹.',
        'quick-links': 'Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ ÑÑÑ‹Ð»ÐºÐ¸',
        'how-it-works': 'ÐšÐ°Ðº ÑÑ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚',
        'testimonials': 'ÐžÑ‚Ð·Ñ‹Ð²Ñ‹',
        'cta': 'ÐÐ°Ñ‡Ð°Ñ‚ÑŒ',
        'privacy-policy': 'ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸',
        'terms-of-use': 'Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ',
        'footer-copyright': 'Â© 2025 FinGuru. Ð’ÑÐµ Ð¿Ñ€Ð°Ð²Ð° Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ñ‹.',
        'reminders-title': 'ðŸ”” Ð’Ð°ÑˆÐ¸ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ',
        'search-reminders': 'ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸ÑÐ¼',
        'clear-search': 'ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð¸ÑÐº',
        'reminder-title-placeholder': 'ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ',
        'add-reminder': 'Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ',
        'edit-reminder': 'Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ',
        'sort-date': 'ÐŸÐ¾ Ð´Ð°Ñ‚Ðµ',
        'sort-title': 'ÐŸÐ¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ',
        'overdue': 'ÐŸÑ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð¾',
        'no-reminders': 'ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚',
        'fill-all-fields': 'Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð²ÑÐµ Ð¿Ð¾Ð»Ñ',
        'all-categories': 'Ð’ÑÐµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸',
        'category-bills': 'Ð¡Ñ‡ÐµÑ‚Ð°',
        'category-investments': 'Ð˜Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸Ð¸',
        'category-personal': 'Ð›Ð¸Ñ‡Ð½Ñ‹Ðµ',
        'repeat-none': 'Ð‘ÐµÐ· Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÐµÐ½Ð¸Ñ',
        'repeat-daily': 'Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾',
        'repeat-weekly': 'Ð•Ð¶ÐµÐ½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¾',
        'repeat-monthly': 'Ð•Ð¶ÐµÐ¼ÐµÑÑÑ‡Ð½Ð¾',
        'confirm-delete-title': 'ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ',
        'confirm-delete-text': 'Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ð¾ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ?',
        'confirm': 'Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ',
        'cancel': 'ÐžÑ‚Ð¼ÐµÐ½Ð°',
        'upcoming-reminder': 'ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð±Ð»Ð¸Ð¶Ð°ÐµÑ‚ÑÑ: ',
        'export-format': 'Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð°',
        'export-ics': 'iCal (.ics)',
        'export-json': 'JSON (.json)',
        'export-csv': 'CSV (.csv)'
    },
    en: {
        'home-title': 'FinGuru â€“ Your Financial Assistant',
        'nav-home': 'Home',
        'nav-features': 'Features',
        'nav-currency': 'Converter',
        'feature-budget-menu': 'Budget',
        'feature-dashboard-menu': 'Dashboard',
        'feature-goals-menu': 'Goals',
        'feature-forecast-menu': 'Forecast',
        'feature-reminders-menu': 'Reminders',
        'feature-tips-menu': 'Tips',
        'nav-banks': 'Banks',
        'banks-connected': 'Connected',
        'banks-add': 'Add',
        'banks-settings': 'Settings',
        'banks-faq': 'FAQ',
        'nav-analytics': 'Analytics',
        'nav-faq': 'FAQ',
        'login': 'Login',
        'logout': 'Logout',
        'register': 'Register',
        'contacts': 'Contacts',
        'phone': 'Phone: +7 (123) 456-78-90',
        'social-telegram': 'Telegram',
        'social-vk': 'VK',
        'subscribe': 'Subscribe',
        'subscribe-text': 'Get the latest news and updates',
        'email-placeholder': 'Your email',
        'subscribe-btn': 'Subscribe',
        'footer-privacy': 'Privacy Policy',
        'footer-terms': 'Terms of Use',
        'footer-about-title': 'About FinGuru',
        'footer-about-text': 'FinGuru is your personal financial assistant, designed to help you manage your money, track expenses, and achieve your financial goals with ease.',
        'quick-links': 'Quick Links',
        'how-it-works': 'How It Works',
        'testimonials': 'Testimonials',
        'cta': 'Get Started',
        'privacy-policy': 'Privacy Policy',
        'terms-of-use': 'Terms of Use',
        'footer-copyright': 'Â© 2025 FinGuru. All rights reserved.',
        'reminders-title': 'ðŸ”” Your Reminders',
        'search-reminders': 'Search reminders',
        'clear-search': 'Clear search',
        'reminder-title-placeholder': 'Reminder title',
        'add-reminder': 'Add reminder',
        'edit-reminder': 'Edit',
        'sort-date': 'By date',
        'sort-title': 'By title',
        'overdue': 'Overdue',
        'no-reminders': 'No reminders available',
        'fill-all-fields': 'Please fill all fields',
        'all-categories': 'All categories',
        'category-bills': 'Bills',
        'category-investments': 'Investments',
        'category-personal': 'Personal',
        'repeat-none': 'No repeat',
        'repeat-daily': 'Daily',
        'repeat-weekly': 'Weekly',
        'repeat-monthly': 'Monthly',
        'confirm-delete-title': 'Confirm Deletion',
        'confirm-delete-text': 'Are you sure you want to delete this reminder?',
        'confirm': 'Delete',
        'cancel': 'Cancel',
        'upcoming-reminder': 'Upcoming reminder: ',
        'export-format': 'Export format',
        'export-ics': 'iCal (.ics)',
        'export-json': 'JSON (.json)',
        'export-csv': 'CSV (.csv)'
    },
    ky: {
        'home-title': 'FinGuru â€“ Ð¡Ð¸Ð·Ð´Ð¸Ð½ ÐºÐ°Ñ€Ð¶Ñ‹ Ð¶Ð°Ñ€Ð´Ð°Ð¼Ñ‡Ñ‹Ò£Ñ‹Ð·',
        'nav-home': 'Ð‘Ð°ÑˆÐºÑ‹ Ð±ÐµÑ‚',
        'nav-features': 'ÐœÒ¯Ð¼ÐºÒ¯Ð½Ñ‡Ò¯Ð»Ò¯ÐºÑ‚Ó©Ñ€',
        'nav-currency': 'ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚ÐµÑ€',
        'feature-budget-menu': 'Ð‘ÑŽÐ´Ð¶ÐµÑ‚',
        'feature-dashboard-menu': 'Ð‘Ð°ÑˆÐºÐ°Ñ€ÑƒÑƒ Ð¿Ð°Ð½ÐµÐ»Ð¸',
        'feature-goals-menu': 'ÐœÐ°ÐºÑÐ°Ñ‚Ñ‚Ð°Ñ€',
        'feature-forecast-menu': 'Ð‘Ð¾Ð»Ð¶Ð¾Ð»Ð´Ð¾Ð¾',
        'feature-reminders-menu': 'Ð­ÑÐºÐµÑ€Ñ‚Ð¼ÐµÐ»ÐµÑ€',
        'feature-tips-menu': 'ÐšÐµÒ£ÐµÑˆÑ‚ÐµÑ€',
        'nav-banks': 'Ð‘Ð°Ð½ÐºÑ‚Ð°Ñ€',
        'banks-connected': 'Ð¢ÑƒÑ‚Ð°ÑˆÐºÐ°Ð½',
        'banks-add': 'ÐšÐ¾ÑˆÑƒÑƒ',
        'banks-settings': 'Ð–Ó©Ð½Ð´Ó©Ó©Ð»Ó©Ñ€',
        'banks-faq': 'FAQ',
        'nav-analytics': 'ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°',
        'nav-faq': 'Ð¡ÑƒÑ€Ð°ÐºÑ‚Ð°Ñ€',
        'login': 'ÐšÐ¸Ñ€Ò¯Ò¯',
        'logout': 'Ð§Ñ‹Ð³ÑƒÑƒ',
        'register': 'ÐšÐ°Ñ‚Ñ‚Ð°Ð»ÑƒÑƒ',
        'contacts': 'Ð‘Ð°Ð¹Ð»Ð°Ð½Ñ‹Ñˆ',
        'phone': 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½: +7 (123) 456-78-90',
        'social-telegram': 'Telegram',
        'social-vk': 'VK',
        'subscribe': 'Ð–Ð°Ð·Ñ‹Ð»ÑƒÑƒ',
        'subscribe-text': 'ÐÐºÑ‹Ñ€ÐºÑ‹ Ð¶Ð°Ò£Ñ‹Ð»Ñ‹ÐºÑ‚Ð°Ñ€Ð´Ñ‹ Ð¶Ð°Ð½Ð° Ð¶Ð°Ò£Ñ‹Ñ€Ñ‚ÑƒÑƒÐ»Ð°Ñ€Ð´Ñ‹ Ð°Ð»Ñ‹Ò£Ñ‹Ð·',
        'email-placeholder': 'Ð¡Ð¸Ð·Ð´Ð¸Ð½ email',
        'subscribe-btn': 'Ð–Ð°Ð·Ñ‹Ð»ÑƒÑƒ',
        'footer-privacy': 'Ð–ÐµÐºÐµ Ð¼Ð°Ð°Ð»Ñ‹Ð¼Ð°Ñ‚ ÑÐ°ÑÑÐ°Ñ‚Ñ‹',
        'footer-terms': 'ÐšÐ¾Ð»Ð´Ð¾Ð½ÑƒÑƒ ÑˆÐ°Ñ€Ñ‚Ñ‚Ð°Ñ€Ñ‹',
        'footer-about-title': 'FinGuru Ð¶Ó©Ð½Ò¯Ð½Ð´Ó©',
        'footer-about-text': 'FinGuru - Ð±ÑƒÐ» ÑÐ¸Ð·Ð´Ð¸Ð½ Ð¶ÐµÐºÐµ ÐºÐ°Ñ€Ð¶Ñ‹ Ð¶Ð°Ñ€Ð´Ð°Ð¼Ñ‡Ñ‹Ò£Ñ‹Ð·, Ð°Ð» ÑÐ¸Ð·Ð³Ðµ Ð°ÐºÑ‡Ð°Ò£Ñ‹Ð·Ð´Ñ‹ Ð¾Ò£Ð¾Ð¹ Ð±Ð°ÑˆÐºÐ°Ñ€ÑƒÑƒÐ³Ð°, Ñ‡Ñ‹Ð³Ñ‹Ð¼Ð´Ð°Ñ€Ð´Ñ‹ ÐºÓ©Ð·Ó©Ð¼Ó©Ð»Ð´Ó©Ó©Ð³Ó© Ð¶Ð°Ð½Ð° ÐºÐ°Ñ€Ð¶Ñ‹ Ð¼Ð°ÐºÑÐ°Ñ‚Ñ‚Ð°Ñ€Ñ‹Ò£Ñ‹Ð·Ð³Ð° Ð¶ÐµÑ‚Ò¯Ò¯Ð³Ó© Ð¶Ð°Ñ€Ð´Ð°Ð¼ Ð±ÐµÑ€ÐµÑ‚.',
        'quick-links': 'Ð¢ÐµÐ· ÑˆÐ¸Ð»Ñ‚ÐµÐ¼ÐµÐ»ÐµÑ€',
        'how-it-works': 'Ð‘ÑƒÐ» ÐºÐ°Ð½Ñ‚Ð¸Ð¿ Ð¸ÑˆÑ‚ÐµÐ¹Ñ‚',
        'testimonials': 'ÐŸÐ¸ÐºÐ¸Ñ€Ð»ÐµÑ€',
        'cta': 'Ð‘Ð°ÑˆÑ‚Ð¾Ð¾',
        'privacy-policy': 'Ð–ÐµÐºÐµ Ð¼Ð°Ð°Ð»Ñ‹Ð¼Ð°Ñ‚ ÑÐ°ÑÑÐ°Ñ‚Ñ‹',
        'terms-of-use': 'ÐšÐ¾Ð»Ð´Ð¾Ð½ÑƒÑƒ ÑˆÐ°Ñ€Ñ‚Ñ‚Ð°Ñ€Ñ‹',
        'footer-copyright': 'Â© 2025 FinGuru. Ð‘Ð°Ñ€Ð´Ñ‹Ðº ÑƒÐºÑƒÐºÑ‚Ð°Ñ€ ÐºÐ¾Ñ€Ð³Ð¾Ð»Ð³Ð¾Ð½.',
        'reminders-title': 'ðŸ”” Ð¡Ð¸Ð·Ð´Ð¸Ð½ ÑÑÐºÐµÑ€Ñ‚Ð¼ÐµÐ»ÐµÑ€Ð¸Ò£Ð¸Ð·',
        'search-reminders': 'Ð­ÑÐºÐµÑ€Ñ‚Ð¼ÐµÐ»ÐµÑ€Ð´Ð¸ Ð¸Ð·Ð´Ó©Ó©',
        'clear-search': 'Ð˜Ð·Ð´Ó©Ó©Ð½Ò¯ Ñ‚Ð°Ð·Ð°Ð»Ð¾Ð¾',
        'reminder-title-placeholder': 'Ð­ÑÐºÐµÑ€Ñ‚Ð¼Ðµ Ð°Ñ‚Ð°Ð»Ñ‹ÑˆÑ‹',
        'add-reminder': 'Ð­ÑÐºÐµÑ€Ñ‚Ð¼Ðµ ÐºÐ¾ÑˆÑƒÑƒ',
        'edit-reminder': 'ÐžÒ£Ð´Ð¾Ð¾',
        'sort-date': 'Ð”Ð°Ñ‚Ð° Ð±Ð¾ÑŽÐ½Ñ‡Ð°',
        'sort-title': 'ÐÑ‚Ð°Ð»Ñ‹Ñˆ Ð±Ð¾ÑŽÐ½Ñ‡Ð°',
        'overdue': 'ÐœÓ©Ó©Ð½Ó©Ñ‚Ò¯ Ó©Ñ‚ÐºÓ©Ð½',
        'no-reminders': 'Ð­ÑÐºÐµÑ€Ñ‚Ð¼ÐµÐ»ÐµÑ€ Ð¶Ð¾Ðº',
        'fill-all-fields': 'Ð‘Ð°Ñ€Ð´Ñ‹Ðº Ñ‚Ð°Ð»Ð°Ð°Ð»Ð°Ñ€Ð´Ñ‹ Ñ‚Ð¾Ð»Ñ‚ÑƒÑ€ÑƒÒ£ÑƒÐ·',
        'all-categories': 'Ð‘Ð°Ñ€Ð´Ñ‹Ðº ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ»Ð°Ñ€',
        'category-bills': 'Ð­ÑÐµÐ¿Ñ‚ÐµÑ€',
        'category-investments': 'Ð˜Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸ÑÐ»Ð°Ñ€',
        'category-personal': 'Ð–ÐµÐºÐµ',
        'repeat-none': 'ÐšÐ°Ð¹Ñ‚Ð°Ð»Ð°Ð½Ð±Ð°Ð¹Ñ‚',
        'repeat-daily': 'ÐšÒ¯Ð½ ÑÐ°Ð¹Ñ‹Ð½',
        'repeat-weekly': 'Ð–ÑƒÐ¼Ð° ÑÐ°Ð¹Ñ‹Ð½',
        'repeat-monthly': 'ÐÐ¹ ÑÐ°Ð¹Ñ‹Ð½',
        'confirm-delete-title': 'Ð–Ð¾Ðº ÐºÑ‹Ð»ÑƒÑƒÐ½Ñƒ Ñ‹Ñ€Ð°ÑÑ‚Ð¾Ð¾',
        'confirm-delete-text': 'Ð‘ÑƒÐ» ÑÑÐºÐµÑ€Ñ‚Ð¼ÐµÐ½Ð¸ Ñ‡Ñ‹Ð½ ÑÐ»Ðµ Ð¶Ð¾Ðº ÐºÑ‹Ð»Ð³Ñ‹Ò£Ñ‹Ð· ÐºÐµÐ»ÐµÐ±Ð¸?',
        'confirm': 'Ð–Ð¾Ðº ÐºÑ‹Ð»ÑƒÑƒ',
        'cancel': 'Ð–Ð¾ÐºÐºÐ¾ Ñ‡Ñ‹Ð³Ð°Ñ€ÑƒÑƒ',
        'upcoming-reminder': 'Ð–Ð°ÐºÑ‹Ð½Ð´Ð°Ð¿ ÐºÐµÐ»Ðµ Ð¶Ð°Ñ‚ÐºÐ°Ð½ ÑÑÐºÐµÑ€Ñ‚Ð¼Ðµ: ',
        'export-format': 'Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹',
        'export-ics': 'iCal (.ics)',
        'export-json': 'JSON (.json)',
        'export-csv': 'CSV (.csv)'
    }
};

let currentLang = localStorage.getItem('language') || 'ru';
let currentTheme = localStorage.getItem('theme') || 'light';

function updateLanguage() {
    document.querySelectorAll('[data-lang-key]').forEach(el => {
        const key = el.dataset.langKey;
        if (key && translations[currentLang][key]) {
            el.textContent = translations[currentLang][key];
        }
    });

    document.querySelectorAll('[data-lang-key-placeholder]').forEach(el => {
        const key = el.dataset.langKeyPlaceholder;
        if (key && translations[currentLang][key]) {
            el.placeholder = translations[currentLang][key];
        }
    });

    document.documentElement.lang = currentLang;
}

function applyTheme() {
    const body = document.body;
    if (currentTheme === 'dark') {
        body.classList.add('dark-theme');
        body.classList.remove('light-theme');
    } else {
        body.classList.add('light-theme');
        body.classList.remove('dark-theme');
    }
    localStorage.setItem('theme', currentTheme);
}

document.addEventListener('DOMContentLoaded', () => {
    // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ·Ñ‹ÐºÐ°
    document.querySelectorAll('.lang-btn').forEach(btn => {
        if (btn.dataset.lang === currentLang) btn.classList.add('active');
        btn.addEventListener('click', () => {
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            currentLang = btn.dataset.lang;
            localStorage.setItem('language', currentLang);
            updateLanguage();
        });
    });

    // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‚ÐµÐ¼Ñ‹
    const themeBtn = document.getElementById('themeToggle');
    if (themeBtn) {
        applyTheme();
        themeBtn.addEventListener('click', () => {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            applyTheme();
        });
    }

    // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð°
    updateLanguage();

    // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð°Ð´Ð°ÑŽÑ‰Ð¸Ñ… Ð¼ÐµÐ½ÑŽ
    document.querySelectorAll('.dropdown-toggle').forEach(button => {
        button.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();

            const menu = button.nextElementSibling;
            const isExpanded = button.getAttribute('aria-expanded') === 'true';

            document.querySelectorAll('.dropdown-menu.show').forEach(openMenu => {
                if (openMenu !== menu) {
                    openMenu.classList.remove('show');
                    openMenu.previousElementSibling.setAttribute('aria-expanded', 'false');
                }
            });

            menu.classList.toggle('show', !isExpanded);
            button.setAttribute('aria-expanded', !isExpanded);

            if (menu.classList.contains('show')) {
                const rect = menu.getBoundingClientRect();
                if (rect.right > window.innerWidth - 10) {
                    menu.style.left = 'unset';
                    menu.style.right = '0';
                } else if (rect.left < 10) {
                    menu.style.left = '0';
                    menu.style.right = 'unset';
                } else {
                    menu.style.left = '0';
                    menu.style.right = 'unset';
                }
            }
        });
    });

    document.addEventListener('click', (e) => {
        const isDropdownClick = e.target.closest('.dropdown');
        if (!isDropdownClick) {
            document.querySelectorAll('.dropdown-menu.show').forEach(menu => {
                menu.classList.remove('show');
                menu.previousElementSibling.setAttribute('aria-expanded', 'false');
            });
        }
    });

    // Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð°
    window.logoutUser = function() {
        fetch('/logout', {
            method: 'POST',
        })
            .then(res => res.json())
            .then(data => {
                alert(data.message);
                window.location.href = data.redirect;
            })
            .catch(err => console.error('ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´Ðµ:', err));
    };

    // Ð›Ð¾Ð³Ð¸ÐºÐ° Ð´Ð»Ñ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¹
    const reminderForm = document.querySelector('.reminder-form');
    const reminderTitleInput = document.getElementById('reminder-title');
    const reminderDateInput = document.getElementById('reminder-date');
    const reminderCategorySelect = document.getElementById('reminder-category');
    const reminderRepeatSelect = document.getElementById('reminder-repeat');
    const addReminderBtn = document.getElementById('add-reminder-btn');
    const remindersList = document.getElementById('reminders-list');
    const searchInput = document.getElementById('reminder-search');
    const categoryFilter = document.getElementById('category-filter');
    const sortSelect = document.getElementById('sort-select');
    const clearSearchBtn = document.getElementById('clear-search-btn');
    const deleteModal = document.getElementById('delete-modal');
    const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
    const cancelDeleteBtn = document.getElementById('cancel-delete-btn');

    let reminders = JSON.parse(localStorage.getItem('reminders')) || [];
    let editingReminderId = null;
    let sortOption = 'date';
    let reminderToDeleteId = null;

    const saveReminders = () => localStorage.setItem('reminders', JSON.stringify(reminders));

    const sortReminders = (option) => {
        switch (option) {
            case 'date':
                reminders.sort((a, b) => new Date(a.date) - new Date(b.date));
                break;
            case 'title':
                reminders.sort((a, b) => a.title.localeCompare(b.title));
                break;
            default:
                break;
        }
    };

    const calculateProgress = (reminderDate, createDate) => {
        const now = new Date();
        const start = new Date(createDate);
        const end = new Date(reminderDate);
        if (end < now) return 100;
        if (start > now) return 0;
        const total = end - start;
        const elapsed = now - start;
        return Math.min(100, Math.max(0, (elapsed / total) * 100));
    };

    const checkForNotifications = () => {
        const now = new Date();
        reminders.forEach(reminder => {
            const reminderDate = new Date(reminder.date);
            const timeDiff = reminderDate - now;
            const hours24 = 24 * 60 * 60 * 1000;
            if (timeDiff > 0 && timeDiff <= hours24 && !reminder.notified) {
                if (Notification.permission === 'granted') {
                    new Notification(translations[currentLang]['upcoming-reminder'] + reminder.title, {
                        body: `Ð”Ð°Ñ‚Ð°: ${reminderDate.toLocaleString()}`,
                        icon: '/static/images/favicon.ico'
                    });
                } else if (Notification.permission !== 'denied') {
                    Notification.requestPermission().then(permission => {
                        if (permission === 'granted') {
                            new Notification(translations[currentLang]['upcoming-reminder'] + reminder.title, {
                                body: `Ð”Ð°Ñ‚Ð°: ${reminderDate.toLocaleString()}`,
                                icon: '/static/images/favicon.ico'
                            });
                        }
                    });
                }
                reminder.notified = true;
                saveReminders();
            }
        });
    };

    const exportToICS = (reminder) => {
        const startDate = new Date(reminder.date);
        const endDate = new Date(startDate.getTime() + 60 * 60 * 1000); // +1 Ñ‡Ð°Ñ
        const icsContent = [
            'BEGIN:VCALENDAR',
            'VERSION:2.0',
            'BEGIN:VEVENT',
            `DTSTART:${startDate.toISOString().replace(/[-:]/g, '').split('.')[0]}Z`,
            `DTEND:${endDate.toISOString().replace(/[-:]/g, '').split('.')[0]}Z`,
            `SUMMARY:${reminder.title}`,
            `DESCRIPTION:${translations[currentLang]['category-' + reminder.category] || reminder.category}`,
            'END:VEVENT',
            'END:VCALENDAR'
        ].join('\n');
        const blob = new Blob([icsContent], { type: 'text/calendar' });
        const url = window.URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `${reminder.title}.ics`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        window.URL.revokeObjectURL(url);
    };

    const exportToJSON = (reminder) => {
        const jsonContent = JSON.stringify(reminder, null, 2);
        const blob = new Blob([jsonContent], { type: 'application/json' });
        const url = window.URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `${reminder.title}.json`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        window.URL.revokeObjectURL(url);
    };

    const exportToCSV = (reminder) => {
        const csvContent = [
            'Title,Date,Category,Repeat,Created At',
            `"${reminder.title}","${new Date(reminder.date).toLocaleString()}","${translations[currentLang]['category-' + reminder.category]}","${translations[currentLang]['repeat-' + reminder.repeat]}","${new Date(reminder.createdAt).toLocaleString()}"`
        ].join('\n');
        const blob = new Blob([csvContent], { type: 'text/csv' });
        const url = window.URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `${reminder.title}.csv`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        window.URL.revokeObjectURL(url);
    };

    const renderReminders = (filter = '', category = 'all', sort = sortOption) => {
        remindersList.innerHTML = '';
        let filteredReminders = [...reminders].filter(reminder => 
            reminder.title.toLowerCase().includes(filter.toLowerCase()) &&
            (category === 'all' || reminder.category === category)
        );
        sortReminders(sort);
        const now = new Date();
        if (filteredReminders.length === 0) {
            const emptyMsg = document.createElement('p');
            emptyMsg.textContent = translations[currentLang]['no-reminders'];
            remindersList.appendChild(emptyMsg);
        } else {
            filteredReminders.forEach(reminder => {
                const reminderDate = new Date(reminder.date);
                const isOverdue = reminderDate < now;
                const timeDiff = reminderDate - now;
                const hours24 = 24 * 60 * 60 * 1000;
                const isUpcoming = timeDiff > 0 && timeDiff <= hours24;
                const progress = calculateProgress(reminderDate, reminder.createdAt);
                const reminderItem = document.createElement('div');
                reminderItem.className = `reminder-item ${isOverdue ? 'overdue' : ''} ${isUpcoming ? 'upcoming' : ''}`;
                reminderItem.setAttribute('role', 'article');
                reminderItem.setAttribute('aria-labelledby', `reminder-title-${reminder.id}`);
                reminderItem.innerHTML = `
                    <div class="reminder-details">
                        <h3 id="reminder-title-${reminder.id}">${reminder.title}</h3>
                        <div class="reminder-date">${reminderDate.toLocaleString()}</div>
                        <span class="reminder-category" data-lang-key="category-${reminder.category}">${translations[currentLang]['category-' + reminder.category]}</span>
                        <div class="reminder-progress">
                            <div class="reminder-progress-bar" style="width: ${progress}%"></div>
                        </div>
                        ${isOverdue ? `<span class="overdue-label" data-lang-key="overdue">${translations[currentLang]['overdue']}</span>` : ''}
                    </div>
                    <div class="reminder-actions">
                        <button class="edit-reminder-btn" data-id="${reminder.id}" data-lang-key="edit-reminder" aria-label="${translations[currentLang]['edit-reminder']} ${reminder.title}">${translations[currentLang]['edit-reminder']}</button>
                        <div class="export-dropdown">
                            <button class="export-reminder-btn" data-id="${reminder.id}" aria-label="Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ ${reminder.title}">
                                <i class="fas fa-download"></i>
                            </button>
                            <div class="export-options">
                                <span data-lang-key="export-format">${translations[currentLang]['export-format']}</span>
                                <a href="#" class="export-option export-ics" data-id="${reminder.id}" data-format="ics" data-lang-key="export-ics">${translations[currentLang]['export-ics']}</a>
                                <a href="#" class="export-option export-json" data-id="${reminder.id}" data-format="json" data-lang-key="export-json">${translations[currentLang]['export-json']}</a>
                                <a href="#" class="export-option export-csv" data-id="${reminder.id}" data-format="csv" data-lang-key="export-csv">${translations[currentLang]['export-csv']}</a>
                            </div>
                        </div>
                        <button class="delete-reminder-btn" data-id="${reminder.id}" aria-label="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ ${reminder.title}"><i class="fas fa-trash-alt"></i></button>
                    </div>
                `;
                remindersList.appendChild(reminderItem);
            });

            // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð°Ð´Ð°ÑŽÑ‰ÐµÐ³Ð¾ ÑÐ¿Ð¸ÑÐºÐ° ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð°
            document.querySelectorAll('.export-reminder-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const options = btn.nextElementSibling;
                    const isVisible = options.style.display === 'block';
                    document.querySelectorAll('.export-options').forEach(opt => opt.style.display = 'none');
                    options.style.display = isVisible ? 'none' : 'block';
                });
            });

            document.querySelectorAll('.export-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    e.preventDefault();
                    const id = parseInt(option.dataset.id);
                    const format = option.dataset.format;
                    const reminder = reminders.find(r => r.id === id);
                    if (reminder) {
                        switch (format) {
                            case 'ics':
                                exportToICS(reminder);
                                break;
                            case 'json':
                                exportToJSON(reminder);
                                break;
                            case 'csv':
                                exportToCSV(reminder);
                                break;
                        }
                    }
                    option.closest('.export-options').style.display = 'none';
                });
            });

            document.addEventListener('click', (e) => {
                if (!e.target.closest('.export-dropdown')) {
                    document.querySelectorAll('.export-options').forEach(opt => opt.style.display = 'none');
                }
            });
        }
    };

    const updateReminderDate = (reminder) => {
        const now = new Date();
        let nextDate = new Date(reminder.date);
        switch (reminder.repeat) {
            case 'daily':
                while (nextDate <= now) {
                    nextDate.setDate(nextDate.getDate() + 1);
                }
                break;
            case 'weekly':
                while (nextDate <= now) {
                    nextDate.setDate(nextDate.getDate() + 7);
                }
                break;
            case 'monthly':
                while (nextDate <= now) {
                    nextDate.setMonth(nextDate.getMonth() + 1);
                }
                break;
            default:
                break;
        }
        reminder.date = nextDate.toISOString();
        reminder.notified = false;
    };

    const addOrUpdateReminder = (e) => {
        e.preventDefault();
        const title = reminderTitleInput.value.trim();
        const date = reminderDateInput.value;
        const category = reminderCategorySelect.value;
        const repeat = reminderRepeatSelect.value;

        if (!title || !date) {
            alert(translations[currentLang]['fill-all-fields']);
            return;
        }

        if (editingReminderId) {
            reminders = reminders.map(reminder => 
                reminder.id === editingReminderId ? { ...reminder, title, date, category, repeat, notified: false } : reminder
            );
            editingReminderId = null;
            addReminderBtn.textContent = translations[currentLang]['add-reminder'];
        } else {
            const newReminder = {
                id: Date.now(),
                title,
                date,
                category,
                repeat,
                createdAt: new Date().toISOString(),
                notified: false
            };
            reminders.push(newReminder);
        }

        saveReminders();
        renderReminders(searchInput.value, categoryFilter.value, sortOption);
        reminderForm.reset();
    };

    reminderForm.addEventListener('submit', addOrUpdateReminder);

    remindersList.addEventListener('click', (e) => {
        e.preventDefault();
        const id = parseInt(e.target.dataset.id) || parseInt(e.target.parentElement.dataset.id);
        if (e.target.classList.contains('edit-reminder-btn') || e.target.parentElement.classList.contains('edit-reminder-btn')) {
            const reminder = reminders.find(r => r.id === id);
            if (reminder) {
                reminderTitleInput.value = reminder.title;
                reminderDateInput.value = reminder.date.slice(0, 16);
                reminderCategorySelect.value = reminder.category;
                reminderRepeatSelect.value = reminder.repeat;
                editingReminderId = id;
                addReminderBtn.textContent = translations[currentLang]['edit-reminder'];
            }
        } else if (e.target.classList.contains('delete-reminder-btn') || e.target.parentElement.classList.contains('delete-reminder-btn')) {
            reminderToDeleteId = id;
            deleteModal.classList.add('show');
            deleteModal.setAttribute('aria-hidden', 'false');
            confirmDeleteBtn.focus();
        }
    });

    confirmDeleteBtn.addEventListener('click', () => {
        if (reminderToDeleteId) {
            reminders = reminders.filter(r => r.id !== reminderToDeleteId);
            saveReminders();
            renderReminders(searchInput.value, categoryFilter.value, sortOption);
        }
        deleteModal.classList.remove('show');
        deleteModal.setAttribute('aria-hidden', 'true');
        reminderToDeleteId = null;
    });

    cancelDeleteBtn.addEventListener('click', () => {
        deleteModal.classList.remove('show');
        deleteModal.setAttribute('aria-hidden', 'true');
        reminderToDeleteId = null;
    });

    searchInput.addEventListener('input', (e) => {
        renderReminders(e.target.value, categoryFilter.value, sortOption);
    });

    categoryFilter.addEventListener('change', (e) => {
        renderReminders(searchInput.value, e.target.value, sortOption);
    });

    clearSearchBtn.addEventListener('click', () => {
        searchInput.value = '';
        renderReminders('', categoryFilter.value, sortOption);
    });

    sortSelect.addEventListener('change', (e) => {
        sortOption = e.target.value;
        renderReminders(searchInput.value, categoryFilter.value, sortOption);
    });

    // ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑÑŽÑ‰Ð¸Ñ…ÑÑ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¹
    setInterval(() => {
        const now = new Date();
        reminders.forEach(reminder => {
            const reminderDate = new Date(reminder.date);
            if (reminderDate < now && reminder.repeat !== 'none') {
                updateReminderDate(reminder);
            }
        });
        saveReminders();
        renderReminders(searchInput.value, categoryFilter.value, sortOption);
        checkForNotifications();
    }, 60 * 1000); // ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ°Ð¶Ð´ÑƒÑŽ Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ

    renderReminders();
    checkForNotifications();
});